"use strict";(self.webpackChunkmap_sephirotico=self.webpackChunkmap_sephirotico||[]).push([[670],{1477:(e,t,s)=>{s.d(t,{A:()=>g});var n=s(5043),r=s(7781),a=s(3519),o=s(3637),i=s(1041),c=s(3814),l=s(4282),d=s(5180);const h=s(5464).Ay.div`

.navbar-brand {
color: #fff;
}
`;const p=function(e){const[t,s]=(0,n.useState)((()=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null}));return(0,n.useEffect)((()=>{localStorage.setItem(e,JSON.stringify(t))}),[e,t]),[t,s]};var u=s(579);function g(e){var t;const[s,g]=(0,n.useState)(null!==(t=e.term)&&void 0!==t?t:""),[m,x]=p("user");return(0,u.jsx)(h,{children:(0,u.jsx)("header",{children:(0,u.jsx)(r.A,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:(0,u.jsxs)(a.A,{children:[(0,u.jsxs)(r.A.Brand,{as:d.N_,to:"/",children:[(0,u.jsx)(o.A,{alt:"",src:"/mapa-astral-sephirotico/logo.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","Grim\xf3rio open source"]}),(0,u.jsx)(r.A.Toggle,{"aria-controls":"responsive-navbar-nav"}),(0,u.jsxs)(r.A.Collapse,{id:"responsive-navbar-nav",children:[(0,u.jsxs)(i.A,{className:"me-auto",children:[(0,u.jsx)(i.A.Link,{className:"text-light",as:d.N_,to:"/",children:"Home"}),(0,u.jsx)(i.A.Link,{className:"text-light",as:d.N_,to:"/maps",children:"Mapas"})]}),(0,u.jsxs)(c.A,{className:"d-flex",children:[(0,u.jsx)(c.A.Control,{type:"search",placeholder:"Arcanos, Anjos, Sephira",className:"me-2","aria-label":"Arcanos, Anjos, Sephira"}),(0,u.jsx)(l.A,{variant:"outline-success",children:"Pesquisar"})]})]})]})})})})}},2935:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(6213);function r(){var e;const t=null!==(e="https://kevinmartins367.github.io/mapa-astral-sephirotico/")?e:`${window.location.origin}/assets/`;return{getAngels:function(){return n.A.get(`${t}angels.json`,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8"}})},getCaractere_hebraico:function(){return n.A.get(`${t}caractere_hebraico.json`,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8"}})},getOdus:function(){return n.A.get(`${t}odus.json`,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8"}})},getSephiroth:function(){return n.A.get(`${t}sephiroth.json`,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8"}})},getTarot:function(){return n.A.get(`${t}tarot.json`,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8"}})},getSigns:function(){return n.A.get(`${t}signs.json`,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8"}})},getPlanet:function(){return n.A.get(`${t}planets.json`,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8"}})}}}},9670:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var n=s(5043),r=s(3519),a=s(1072),o=s(8602),i=s(8628),c=s(3814),l=s(4282),d=s(4196),h=s(8020),p=s(2935),u=s(5464);const g=u.Ay.div`

}

.container-md{
   max-width: 150rem !important;
}

.graphBackground{
    height: 70vh !important;
    
}
    
@media (max-width: 768px) {
    .graphBackground{
        height: 50vh !important;
    }
}
`;var m=s(1477),x=s(9231);const j=u.Ay.div`
    #graph_user{
        margin-left: -3.5vw !important;
        margin-top: -6vh !important;
    }
#graph_user svg{
    width: 110% !important;
    height: 110% !important;
}
@media (max-width: 768px) {
    #graph_user{
        margin-left: -12vw !important;
        margin-top: -3vh !important;
    }
}

`;var A=s(579);function f(e){const t=(0,n.useRef)(null),[s,r]=(0,n.useState)([]);return(0,n.useEffect)((()=>{e.horoscope&&""!=e.horoscope&&async function(){(0,p.A)().getSigns().then((e=>e.data)).then((e=>{r(Object.entries(e).map((e=>{let[t,s]=e;return[s]})))})).catch((e=>{console.log("\ud83d\ude80 ~ file: index.tsx:20 ~ Get_arcanas ~ error:",e)}))}()}),[e.horoscope]),(0,n.useEffect)((()=>{if(!Array.isArray(s)&&0===s.length)return;const n={COLORS_SIGNS:Array.isArray(s)?s.map((e=>e[0].color)):[],MARGIN:80,SYMBOL_SCALE:1,POINTS_TEXT_SIZE:11};if(0===n.COLORS_SIGNS.length)return;const r=function(e){const{CelestialBodies:t,CelestialPoints:s,Houses:n}=e;return{planets:{Moon:[t.moon.ChartPosition.Ecliptic.DecimalDegrees],Venus:[t.venus.ChartPosition.Ecliptic.DecimalDegrees],Jupiter:[t.jupiter.ChartPosition.Ecliptic.DecimalDegrees],NNode:[s.northnode.ChartPosition.Ecliptic.DecimalDegrees],Lilith:[s.lilith.ChartPosition.Ecliptic.DecimalDegrees],Mars:[t.mars.ChartPosition.Ecliptic.DecimalDegrees],Saturn:[t.saturn.ChartPosition.Ecliptic.DecimalDegrees],Chiron:[t.chiron.ChartPosition.Ecliptic.DecimalDegrees],Uranus:[t.uranus.ChartPosition.Ecliptic.DecimalDegrees],Sun:[t.sun.ChartPosition.Ecliptic.DecimalDegrees],Mercury:[t.mercury.ChartPosition.Ecliptic.DecimalDegrees],Neptune:[t.neptune.ChartPosition.Ecliptic.DecimalDegrees],Pluto:[t.pluto.ChartPosition.Ecliptic.DecimalDegrees]},cusps:Array.from({length:12},((e,t)=>n[t].ChartPosition.StartPosition.Ecliptic.DecimalDegrees))}}(e.horoscope);if(t.current){const e=document.getElementById("graph_user");if(e){const t=e.querySelector("svg");t&&t.remove()}let s=700,a=700;window.innerWidth<768&&(s=600,a=600);new x.Chart(t.current.id,s,a,n).radix(r).aspects()}}),[s]),(0,A.jsx)(j,{children:(0,A.jsx)("div",{id:"graph_user",ref:t})})}function v(e){let{onSephiraChange:t,angels:s}=e;const r={malkut:"malkuth",yesod:"yesod",hod:"hod",netzach:"netzach",tipheret:"tipheret",geburah:"geburah",chesed:"chesed",binah:"binah",chokmah:"chokmah",kether:"kether",daath:"daath"};return(0,n.useEffect)((()=>{const e=e=>{const s=e.target.id;if(!s)return;let n=r[s];if(!n)for(const[t,a]of Object.entries(r)){const e=t;if(s.endsWith(e)){n=a;break}}n&&t(n)},n=document.getElementById("kabbalah-svg-object");return null===n||void 0===n||n.addEventListener("load",(()=>{const t=n.contentDocument;t&&(console.log("\ud83d\ude80 ~ index.tsx:57 ~ angels.forEach ~ angels:",s),s.forEach((e=>{let{sephira:s,angel:n}=e;const r=`title_sefira_${s}`,a=t.getElementById(r);a&&(a.textContent=null!==n&&void 0!==n?n:"")})),t.addEventListener("click",e))})),()=>{const t=document.getElementById("kabbalah-svg-object"),s=null===t||void 0===t?void 0:t.contentDocument;null===s||void 0===s||s.removeEventListener("click",e)}}),[s]),(0,A.jsx)("object",{id:"kabbalah-svg-object",data:"./assets/images/kabbalah.svg",type:"image/svg+xml",width:"100%",height:"100%",children:"Seu navegador n\xe3o suporta SVG"})}var b=s(6213);function C(e){let{state:t="",onSelect:s}=e;const[r,a]=(0,n.useState)([]),[o,i]=(0,n.useState)(""),[l,d]=(0,n.useState)([]);(0,n.useEffect)((()=>{if(o){const e=l.filter((e=>e.name.toLowerCase().includes(o.toLowerCase())));a(e)}else a([])}),[o,l]);const h=e=>{if(e.length<3)return a([]),void d([]);const s=encodeURIComponent(`${t} ${e}`);({getLatLong:function(e){try{return b.A.get(`https://api.opencagedata.com/geocode/v1/json?key=1bae3473c72846aa98a8fcc666fa5b65&q=${e}`,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=UTF-8"}}).then((e=>{if(200===e.status)return e.data.results;throw new Error(`Erro ao buscar dados: ${e.status}`)})).catch((e=>(this.handleError(e),Promise.reject(e))))}catch(t){return this.handleError(t),Promise.reject(t)}},handleError:function(e){let t="";throw t=e.response?`C\xf3digo do erro: ${e.response.status}, mensagem: ${e.response.data}`:e.request?"Nenhuma resposta recebida do servidor.":`Erro: ${e.message}`,console.error(t),new Error(t)}}).getLatLong(s).then((e=>e.map(((e,t)=>({id:t+1,name:e.formatted,geometry:e.geometry}))))).then((e=>{d(e)}))};return(0,A.jsxs)("div",{children:[(0,A.jsx)(c.A.Group,{controlId:"autocomplete",children:(0,A.jsx)(c.A.Control,{type:"text",value:o,onChange:e=>{const{value:t}=e.target;i(t),h(t)},placeholder:"Cidade"})}),r.length>0&&(0,A.jsx)("div",{className:"autocomplete-dropdown",style:{position:"absolute",background:"white",border:"1px solid #ccc",color:"#333",overflowY:"auto",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",zIndex:1e3},children:r.map((e=>(0,A.jsx)("div",{onClick:()=>(e=>{i(e.name),a([]),s(e.geometry)})(e),className:"autocomplete-item",style:{padding:"8px",cursor:"pointer",color:"#333",borderBottom:"1px solid #eee"},children:e.name},`${e.id}-${e.name}`)))})]})}const y=e=>e.split("\xb0")[0];function S(){const[e,t]=n.useState(null),[s,u]=(0,n.useState)([]),[x,j]=(0,n.useState)(null),[b,S]=(0,n.useState)(null),[E,N]=(0,n.useState)([]),[k,w]=(0,n.useState)({}),[D,P]=(0,n.useState)({}),[T,O]=(0,n.useState)(""),[I,_]=(0,n.useState)(""),[L,B]=(0,n.useState)(""),[$,G]=(0,n.useState)(0),[M,F]=(0,n.useState)(0);return(0,n.useEffect)((()=>{e&&function(e){const t={houseSystem:"placidus",zodiac:"tropical",aspectPoints:["bodies","points","angles"],aspectWithPoints:["bodies","points","angles"],aspectTypes:["major","minor","conjunction","opposition","quincunx"],customOrbs:{},language:"en",origin:new h.Origin(e)};S(t);const s=new h.Horoscope(t);j(s)}(e)}),[e]),(0,n.useEffect)((()=>{!async function(){(0,p.A)().getAngels().then((e=>{N(e.data)})).catch((e=>{console.log("\ud83d\ude80 ~ file: index.tsx:20 ~ Get_arcanas ~ error:",e)}))}(),async function(){(0,p.A)().getPlanet().then((e=>{w(e.data)})).catch((e=>{console.log("\ud83d\ude80 ~ file: index.tsx:20 ~ Get_arcanas ~ error:",e)}))}(),async function(){(0,p.A)().getSigns().then((e=>{P(e.data)})).catch((e=>{console.log("\ud83d\ude80 ~ file: index.tsx:20 ~ Get_arcanas ~ error:",e)}))}()}),[]),(0,n.useEffect)((()=>{if(!Array.isArray(E)||0===E.length||!x)return;let e=function(e){return Object.entries({kether:"neptune",chokmah:"uranus",binah:"saturn",daath:"pluto",chesed:"jupiter",geburah:"mars",tipheret:"sun",netzach:"venus",hod:"mercury",yesod:"moon",malkut:"ascendant"}).map((t=>{let[s,n]=t;const r="ascendant"===n?e.Ascendant:e.CelestialBodies[n];return{sephira:s,graus:y(r.ChartPosition.Ecliptic.ArcDegreesFormatted30),position:r.ChartPosition.Ecliptic.ArcDegreesFormatted30,sign:r.Sign.key,planet:r.key,point:e.Aspects.points[n]}}))}(x);e=e.map((e=>{const t=function(e,t){const s=["aries","taurus","gemini","cancer","leo","virgo","libra","scorpio","sagittarius","capricorn","aquarius","pisces"].indexOf(e);if(-1===s)return null;const n=Math.min(Math.floor(t/5),5),r=E[s][e][n];return r?r.angel:null}(e.sign,parseInt(e.graus));return t&&(e.angel=t),e.sign=function(e){const t={aries:"\u2648",taurus:"\u2649",gemini:"\u264a",cancer:"\u264b",leo:"\u264c",virgo:"\u264d",libra:"\u264e",scorpio:"\u264f",sagittarius:"\u2650",capricorn:"\u2651",aquarius:"\u2652",pisces:"\u2653"};if(t.hasOwnProperty(e)){var s,n;const r=t[e];return null!==(s=null===(n=D[r])||void 0===n?void 0:n.name)&&void 0!==s?s:""}}(e.sign)||"",e.planet=function(e){var t,s;return null!==(t=null===(s=k[e])||void 0===s?void 0:s.name)&&void 0!==t?t:null}(e.planet)||"",e})),u(e)}),[x,E,k]),(0,A.jsxs)(g,{children:[(0,A.jsx)(m.A,{}),(0,A.jsx)("main",{children:(0,A.jsx)(r.A,{fluid:"md",className:"pt-5",children:(0,A.jsxs)(a.A,{children:[(0,A.jsx)(o.A,{sm:12,md:12,lg:12,className:"pb-3",children:(0,A.jsx)(i.A,{className:"text-center",children:(0,A.jsx)(i.A.Body,{children:(0,A.jsx)(c.A,{onSubmit:e=>function(e){e.preventDefault();let s={year:parseInt(T.split("-")[0]),month:parseInt(T.split("-")[1])-1,date:parseInt(T.split("-")[2]),hour:parseInt(I.split(":")[0]),minute:parseInt(I.split(":")[1]),state:L,latitude:$,longitude:M};t(s)}(e),children:(0,A.jsxs)(a.A,{children:[(0,A.jsx)(o.A,{sm:12,md:12,lg:2,children:(0,A.jsxs)(c.A.Group,{className:"mb-3",controlId:"Date",children:[(0,A.jsx)(c.A.Label,{children:"Data"}),(0,A.jsx)(c.A.Control,{type:"date",placeholder:"Data",value:T,onChange:e=>O(e.target.value)})]})}),(0,A.jsx)(o.A,{sm:12,md:12,lg:2,children:(0,A.jsxs)(c.A.Group,{className:"mb-3",controlId:"Hora",children:[(0,A.jsx)(c.A.Label,{children:"Hora"}),(0,A.jsx)(c.A.Control,{type:"time",placeholder:"Hora",value:I,onChange:e=>_(e.target.value)})]})}),(0,A.jsx)(o.A,{sm:12,md:12,lg:2,children:(0,A.jsxs)(c.A.Group,{className:"mb-3",controlId:"Estado",children:[(0,A.jsx)(c.A.Label,{children:"Estado"}),(0,A.jsx)(c.A.Control,{type:"text",placeholder:"Estado",value:L,onChange:e=>B(e.target.value)})]})}),(0,A.jsx)(o.A,{sm:12,md:12,lg:2,children:(0,A.jsxs)(c.A.Group,{className:"mb-3",controlId:"Cidade",children:[(0,A.jsx)(c.A.Label,{children:"Cidade"}),(0,A.jsx)(C,{state:L,onSelect:e=>function(e){G(e.lat),F(e.lng)}(e)})]})}),(0,A.jsx)(o.A,{sm:12,md:12,lg:2}),(0,A.jsx)(o.A,{sm:12,md:12,lg:2,className:"pt-3",children:(0,A.jsx)(l.A,{variant:"primary",type:"submit",children:"Produzir"})})]})})})})}),x?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(o.A,{sm:12,md:12,lg:4,className:"pb-3",children:(0,A.jsx)("aside",{children:(0,A.jsx)(i.A,{children:(0,A.jsx)(i.A.Body,{children:(0,A.jsx)("div",{className:"graphBackground p-2",children:(0,A.jsx)(f,{horoscope:x})})})})})}),(0,A.jsx)(o.A,{sm:12,md:12,lg:8,className:"pb-3",children:(0,A.jsx)("section",{children:(0,A.jsxs)(i.A,{className:"text-center",children:[(0,A.jsx)(i.A.Header,{children:"Mapas"}),(0,A.jsxs)(i.A.Body,{children:[(0,A.jsx)(i.A.Title,{children:"Mapas"}),s.length>0?(0,A.jsxs)(d.A,{responsive:!0,className:"table table-striped table-bordered table-hover",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"table-dark",children:[(0,A.jsx)("th",{scope:"col",children:"Sephira"}),(0,A.jsx)("th",{scope:"col",children:"Signo"}),(0,A.jsx)("th",{scope:"col",children:"Planeta"}),(0,A.jsx)("th",{scope:"col",children:"Posi\xe7\xe3o"}),(0,A.jsx)("th",{scope:"col",children:"Anjo"})]})}),(0,A.jsx)("tbody",{children:s.map(((e,t)=>(0,A.jsxs)("tr",{className:"table-dark",children:[(0,A.jsx)("td",{children:e.sephira}),(0,A.jsx)("td",{children:e.sign}),(0,A.jsx)("td",{children:e.planet}),(0,A.jsx)("td",{children:e.position}),(0,A.jsx)("td",{children:e.angel})]},t)))})]}):null]})]})})}),(0,A.jsx)(o.A,{sm:12,md:12,lg:4,className:"pb-3",children:(0,A.jsx)("aside",{children:(0,A.jsxs)(i.A,{className:"text-center",children:[(0,A.jsx)(i.A.Header,{children:"Mapa Astral"}),(0,A.jsxs)(i.A.Body,{children:[(0,A.jsx)(i.A.Title,{children:"Mapa Astral"}),(0,A.jsx)(v,{angels:s,onSephiraChange:function(e){}})]})]})})}),(0,A.jsx)(o.A,{sm:12,md:12,lg:8,className:"pb-3",children:(0,A.jsx)("section",{children:(0,A.jsxs)(i.A,{className:"text-center",children:[(0,A.jsx)(i.A.Header,{children:"Mapa Astral"}),(0,A.jsxs)(i.A.Body,{children:[(0,A.jsx)(i.A.Title,{children:"Mapa Astral"}),s.length>0?(0,A.jsxs)(d.A,{responsive:!0,className:"table table-striped table-bordered table-hover",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"table-dark",children:[(0,A.jsx)("th",{scope:"col",children:"Sephira"}),(0,A.jsx)("th",{scope:"col",children:"Signo"}),(0,A.jsx)("th",{scope:"col",children:"Planeta"}),(0,A.jsx)("th",{scope:"col",children:"Posi\xe7\xe3o"}),(0,A.jsx)("th",{scope:"col",children:"Anjo"})]})}),(0,A.jsx)("tbody",{children:s.map(((e,t)=>(0,A.jsxs)("tr",{className:"table-dark",children:[(0,A.jsx)("td",{children:e.sephira}),(0,A.jsx)("td",{children:e.sign}),(0,A.jsx)("td",{children:e.planet}),(0,A.jsx)("td",{children:e.position}),(0,A.jsx)("td",{children:e.angel})]},t)))})]}):null]})]})})})]}):(0,A.jsx)(o.A,{sm:12,md:12,lg:12,className:"pb-3",children:(0,A.jsx)(i.A,{className:"text-center",children:(0,A.jsx)(i.A.Body,{children:(0,A.jsx)(i.A.Title,{children:"Selecione uma data, hora e cidade"})})})})]})})})]})}}}]);
//# sourceMappingURL=670.7b3c4054.chunk.js.map